function GetListChuGiai(){$.ajax({url:"/LoaiMucDichSuDung/GetLoaiSuDungAll",type:"Get",success:function(n){var t=n.listChuGiai;if(t!==null&&t.length>0){let n="";$.each(t,function(t,i){n+=`
                        <div class="item">
                            <div class="viewColor" style="background-color: ${i.Color}; border:1px solid ${i.borderColor}"></div>
                            <div class="name">${i.Name}</div>
                        </div>
                    `});$(".listChuGiai").html(n);$(".dieuKhienChuGiai").show();ListChuGiai=t}}})}function GetListLoaiSuDung(n){$.ajax({url:"/LoaiMucDichSuDung/GetLoaiMucDichSuDungByCodeCountry",type:"GET",dataType:"json",data:{code:n,checkCauHinh:!1},"async":!0,success:function(n){let i=n.list,t="";$.each(i,function(n,i){let r=ListChuGiai.filter(n=>n.kyHieuMucDich===i.CauHinhDoiTuongId);r!==null&&r.length>0&&(t+=`
                    <div class="item">
                        <input class="form-check-input" type="checkbox" name="filterLSD" id="inlineCheckbox-${r[0].kyHieuMucDich}" value="${r[0].kyHieuMucDich}" checked>
                        <div class="viewColor" style="background-color: ${r[0].Color}; border: 1px solid ${r[0].borderColor}"></div>
                        <label  class="name" for="inlineCheckbox-${r[0].kyHieuMucDich}">${r[0].Name}</label >
                    </div>
                    `)});$(".listLoaiSuDung").children().remove();$(".listLoaiSuDung").append(t)}});CodeLoaiSuDung=n}function ShowHideLoaiSuDung(n){n?$(".btn_loaisudung").show():$(".btn_loaisudung").hide()}function GetDoiTuongVeByCauHinhDoiTuong(n,t){$.ajax({url:"/DoiTuongChinh/FilterLoaiSuDung",type:"GET",dataType:"json",data:{code:n,cauhinhdoituong:t},"async":!0,success:function(n){layersChild.clearLayers();let t={type:"FeatureCollection",objectType:"Polygon",features:ConvertObject(n.data)};setTimeout(function(){let n=drawing(t);layersChild.addLayer(n);map.leaflet.addLayer(layersChild)},0);$("#loading-map").hide()}})}var ListChuGiai=[],CodeLoaiSuDung="";$(function(){$(".dieuKhienChuGiai").show();$.ajax({url:ViewMap.GLOBAL.url+"/v2/api/land/all-muc-dich-su-dung",type:"GET",data:{key:ViewMap.CONSTS.key},success:function(n){if(n.code==="ok"){let t="";for(let i=0;i<n.result.length;i++)t+=`
                        <div class="item">
                            <div class="viewColor" style="background-color: ${n.result[i].fill};border: 1px solid ${n.result[i].stroke};"></div>
                            <div class="name" style="width:300px;"><b>${n.result[i].mucDichSuDung}</b> <i>${n.result[i].name}</i></div>
                        </div>
                    `;$(".listChuGiai").html(t)}}});$(".dieuKhienChuGiai").click(function(){$(".chuGiai").addClass("opened")});$(".tatChuGiai").click(function(){$(".chuGiai").removeClass("opened");$(".loaisudung").removeClass("opened")});$(".btn_loaisudung").click(function(){GetListLoaiSuDung(CodeLoaiSuDung);$(".loaisudung").addClass("opened")});$(".btn-filter-loaisudung").click(function(){$("#loading-map").show();let t=$("input[name='filterLSD']:checked"),n="";$.each(t,function(){n+=n.length>0?","+$(this).val():$(this).val()});n.length>0?GetDoiTuongVeByCauHinhDoiTuong(CodeLoaiSuDung,n):$("#loading-map").hide()});$(".noiDung").niceScroll(".listChuGiai");$("#ascrail2000").show()});